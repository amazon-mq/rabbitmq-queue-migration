<!--
Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
SPDX-License-Identifier: Apache-2.0
-->

<h1>Queue Compatibility Checker</h1>

<div class="section">
  <h2>Check Queue Compatibility</h2>
  <p>
    This tool checks classic queues for compatibility with quorum queues in the selected virtual host.
  </p>

  <form action="#/queue-compatibility/check" method="post" class="queue-compatibility-form">
    <table class="form">
<% if (display.vhosts) { %>
      <tr>
        <th><label>Virtual host:</label></th>
        <td>
          <select name="vhost">
            <% for (var i = 0; i < vhosts.length; i++) { %>
            <option value="<%= fmt_string(vhosts[i].name) %>" <%= (vhosts[i].name === current_vhost) ? 'selected="selected"' : '' %>><%= fmt_string(vhosts[i].name) %></option>
            <% } %>
          </select>
        </td>
      </tr>
<% } else { %>
      <tr><td><input type="hidden" name="vhost" value="<%= fmt_string(vhosts[0].name) %>"/></td></tr>
<% } %>
      <tr>
        <th>Skip Unsuitable Queues:</th>
        <td>
          <input type="checkbox" name="skip_unsuitable_queues" id="compat_skip_unsuitable_queues"
                 title="Show unsuitable queues as informational (will be skipped during migration)" />
        </td>
      </tr>
    </table>
    <input type="submit" value="Check Compatibility" />
  </form>
</div>

<style type="text/css">
.queue-compatibility-form {
  margin: 20px 0;
}
</style>
